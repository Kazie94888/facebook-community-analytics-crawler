@page
@using LookOn.Core.Extensions
@using LookOn.Localization
@using LookOn.Web.Menus
@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.AspNetCore.Mvc.TagHelpers
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Alert
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Button
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Card
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Form
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Grid
@using Volo.Abp.AspNetCore.Mvc.UI.Bootstrap.TagHelpers.Modal
@using Volo.Abp.AspNetCore.Mvc.UI.Bundling.TagHelpers
@using Volo.Abp.AspNetCore.Mvc.UI.Layout
@model LookOn.Web.Pages.Merchants.ManageModel

@inject IPageLayout PageLayout
@inject IHtmlLocalizer<LookOnResource> L
@{
    PageLayout.Content.Title = L["MerchantManagement.Title"].Value;
    PageLayout.Content.MenuItemName = LookOnMenus.MerchantManage;
}

@section scripts
{
    <abp-script src="/Pages/Merchants/Manage.js"/>
}

<abp-card>
    <abp-card-header>
        <h3>@L["MerchantManagement.Title"]</h3>
    </abp-card-header>
    <abp-card-body>
        <form id="forUpdateMerchant" method="post" data-ajaxForm="true" asp-page="/Merchants/Manage" autocomplete="off">
            <abp-input asp-for="Merchant.Id" type="hidden"/>

            <abp-input asp-for="Merchant.Name"/>

            <abp-input asp-for="Merchant.Email"/>

            <abp-input asp-for="PhoneNumber"/>

            <abp-input asp-for="Fax"/>

            <abp-input asp-for="Merchant.Address"/>

            <abp-input asp-for="Merchant.OwnerAppUserId" type="hidden"/>
            <abp-input asp-for="Merchant.CategoryId" type="hidden"/>
            <abp-input asp-for="Merchant.IsTermAccepted" type="hidden"/>
            <abp-input asp-for="Merchant.TermAcceptedAt" type="hidden"/>
            <div class="d-block">
                <abp-button id="btnUpdateMerchant" type="submit" button-type="Primary" class="mt-2 mb-3 float-end">@L["Save"].Value</abp-button>
            </div>
        </form>
    </abp-card-body>
</abp-card>

<abp-card>
    <abp-card-header>
        <h3>@L["MerchantManagement.Configuration"]</h3>
    </abp-card-header>
    <abp-card-header>
        <abp-row>
            <abp-column >
                <abp-input label="@L["MerchantManagement.Ecom_RetentionThresholdInMonthConfiguration"].Value" asp-for="MetricConfigs.Ecom_RetentionThresholdInMonth" id="updateEcomRetentionThresholdInMonth"></abp-input>
                <abp-input label="@L["MerchantManagement.OrderTotalKPI"].Value" asp-for="MetricConfigs.OrderTotalKPI" id="updateOrderTotalKPI"></abp-input>
                <div id="updateEcomRetentionThresholdInMonthSuccessMessage" class="text-blue" style="display: none;">@L["MerchantManagement.UpdateEcom_RetentionThresholdInMonthMessage"].Value</div>
            </abp-column>
            <div class="d-block">
                <abp-button button-type="Primary" id="btnUpdateMerchantConfiguration" class="mt-2 mb-3 float-end">@L["Save"].Value</abp-button>
            </div>
        </abp-row>
    </abp-card-header>
    @* <abp-card-body> *@
    @*     <abp-row> *@
    @*         $1$ <abp-column offset-md="_2" size-md="_8" size-sm="_12"> #1# *@
    @*         $1$     <abp-table striped-rows="true" id="MetricConfigsTable"> #1# *@
    @*         $1$         <thead> #1# *@
    @*         $1$         <tr> #1# *@
    @*         $1$             <th>@L["Ecom_RetentionThresholdInMonth"]</th> #1# *@
    @*         $1$         </tr> #1# *@
    @*         $1$         </thead> #1# *@
    @*         $1$     </abp-table> #1# *@
    @*         $1$ </abp-column> #1# *@
    @*         <abp-column offset-md="_2" size-md="_8" size-sm="_12"> *@
    @*             <abp-table striped-rows="false" class="table-top-products"> *@
    @*                 <thead> *@
    @*                 <tr> *@
    @*                     <th scope="Column">#</th> *@
    @*                     <th scope="Column">FullName</th> *@
    @*                     <th scope="Column">UserName</th> *@
    @*                     <th scope="Column">Phone</th> *@
    @*                     <th scope="Column">Email</th> *@
    @*                 </tr> *@
    @*                 </thead> *@
    @*                 <tbody> *@
    @*                     <tr> *@
    @*                         $1$ <th scope="Row">@Model.MerchantStaffs.IndexOf(item)</th> #1# *@
    @*                         <td>{MetricConfigs.}</td> *@
    @*                         <td>@item.AppUser.UserName</td> *@
    @*                         <td>@item.AppUser.PhoneNumber</td> *@
    @*                         <td>@item.AppUser.Email</td> *@
    @*                     </tr> *@
    @*                 @foreach (var item in metriccon) *@
    @*                 { *@
    @*                     <tr> *@
    @*                         <th scope="Row">@Model.MerchantStaffs.IndexOf(item)</th> *@
    @*                         <td>@item.AppUser.GetFullName()</td> *@
    @*                         <td>@item.AppUser.UserName</td> *@
    @*                         <td>@item.AppUser.PhoneNumber</td> *@
    @*                         <td>@item.AppUser.Email</td> *@
    @*                     </tr> *@
    @*                 } *@
    @*                 </tbody> *@
    @*             </abp-table> *@
    @*         </abp-column> *@
    @*     </abp-row> *@
    @* </abp-card-body> *@
</abp-card>

@* <abp-card> *@
@*     <abp-card-header> *@
@*         <h3>@L["MerchantManagement.SocialCommunities"]</h3> *@
@*     </abp-card-header> *@
@*     <abp-card-body> *@
@*         <form id="forUpdateSocialCommunity" method="post" data-ajaxForm="true" asp-page="/Merchants/Manage" autocomplete="off"> *@
@*             <abp-column offset-md="_2" size-md="_8" size-sm="_12"> *@
@*                 <abp-table striped-rows="false" class="table-top-products"> *@
@*                     <thead> *@
@*                     <tr> *@
@*                         <th scope="Column">#</th> *@
@*                         <th scope="Column">SocialId</th> *@
@*                         <th scope="Column">CommunityType</th> *@
@*                         <th scope="Column">VerificationStatus</th> *@
@*                         <th scope="Column">VerificationReason</th> *@
@*                         <th scope="Column">VerifiedAt</th> *@
@*                     </tr> *@
@*                     </thead> *@
@*                     <tbody> *@
@*                     @{ if (Model.MerchantSocialSyncInfo != null &&  Model.MerchantSocialSyncInfo.Communities != null) *@
@*                        {foreach (var item in Model.MerchantSocialSyncInfo.Communities) *@
@*                            { *@
@*                                <tr> *@
@*                                    <th scope="Row">@(Model.MerchantSocialSyncInfo.Communities.IndexOf(item) + 1)</th> *@
@*                                    <td><abp-input asp-for="@item.SocialCommunityId" suppress-label="true"/></td> *@
@*                                    <td><abp-select asp-for="@item.CommunityType" suppress-label="true"/></td> *@
@*                                    <td>@item.VerificationStatus</td> *@
@*                                    <td>@item.VerificationReason</td> *@
@*                                    <td>@item.VerifiedAt</td> *@
@*                                </tr> *@
@*                            } *@
@*                        } *@
@*                     } *@
@*                      *@
@*                     </tbody> *@
@*                 </abp-table> *@
@*             </abp-column> *@
@*             <div class="d-block"> *@
@*                 <abp-button id="btnUpdateSocialCommunity" type="submit" button-type="Primary" class="mt-2 mb-3 float-end">@L["Save"].Value</abp-button> *@
@*             </div> *@
@*         </form> *@
@*     </abp-card-body> *@
@* </abp-card> *@